#include <stdio.h>
#include <stdlib.h>
#include <readline/readline.h>
#include <readline/history.h>
#include "pddl.h"

void printheader() {
	const char *header =
	"\033[90m################################################################################################\n"
	"\033[90m# " "\033[31m _             _     \033[32m _____   \033[33m _____   \033[34m _____   \033[35m _          \033[36m _____  \033[37m ______ \033[91m _____   _"       "       \033[90m#\n" 
	"\033[90m# " "\033[31m| |           (_)   \033[32m |  __ \\ \033[33m |  __ \\ \033[34m |  __ \\ \033[35m | |        \033[36m |  __ \\ \033[37m|  ____|\033[91m|  __ \\ | |"   "      \033[90m#\n"
	"\033[90m# " "\033[31m| |__   _ __   _    \033[32m | |__) |\033[33m | |  | |\033[34m | |  | |\033[35m | |        \033[36m | |__) |\033[37m| |__   \033[91m| |__) || |"        "      \033[90m#\n"
	"\033[90m# " "\033[31m| '_ \\ | '_ \\ | |   \033[32m |  ___/  \033[33m| |  | |\033[34m | |  | |\033[35m | |        \033[36m |  _  / \033[37m|  __|  \033[91m|  ___/ | |"      "      \033[90m#\n"
	"\033[90m# " "\033[31m| |_) || | | || |   \033[32m | |      \033[33m| |__| | \033[34m| |__| |\033[35m | |____    \033[36m | | \\ \\ \033[37m| |____ \033[91m| |     | |____"  "  \033[90m#\n"
	"\033[90m# " "\033[31m|_.__/ |_| |_||_|   \033[32m |_|      \033[33m|_____/  \033[34m|_____/  \033[35m|______|   \033[36m |_|  \\_\\\033[37m|______|\033[91m|_|     |______|" " \033[90m#\n"
	"\033[90m################################################################################################\n"
	"\033[0m";
	printf("\e[1;1H\e[2J");
    printf("%s\n", header);
}

int main(void) {
	printheader();
	initialize();
	char *input;
	while (1) {
		printf("Please enter one of the currently available actions:\n");
		show_actions();
		input = readline(">> ");
		if (!input || strcmp(input, "quit") == 0 || strcmp(input, "exit") == 0) break;
		if (*input) add_history(input);
		apply_actions(input);
		free(input);
	}
	return 0;
}
